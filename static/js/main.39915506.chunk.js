(this.webpackJsonpconvo=this.webpackJsonpconvo||[]).push([[0],{100:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},101:function(e,n,t){},253:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(17),o=t.n(i),l=(t(99),t(53)),u=t(36),c=(t(100),t(101),t(10)),s=t(11);function d(){var e=Object(c.a)(["\n   display:flex;\n   align-self:flex-start;\n   font-size:0.8em;\n   font-weight:bold;\n   color:purple;\n"]);return d=function(){return e},e}var f=s.a.div(d());var m=function(e){return r.a.createElement(f,null,e.name)};function p(){var e=Object(c.a)(["\n   display:flex;\n   padding:5px;\n"]);return p=function(){return e},e}var g=s.a.div(p());var v=function(e){return r.a.createElement(g,null,e.text)},x=t(52),w=t.n(x);function y(){var e=Object(c.a)(["\n   display:flex;\n   align-self:flex-end;\n   font-size:0.7em;\n   padding:4px;\n"]);return y=function(){return e},e}var b=s.a.div(y());var h=function(e){return r.a.createElement(b,{className:"MessageTime"},(n=e.date).getDay()===(new Date).getDay()?w()(n).format("hh:mm"):w()(n).fromNow());var n};function E(){var e=Object(c.a)(["\n   padding:6px;\n   margin:4px 10px;\n   display:flex;\n   align-items: center;\n   background:",";\n   border-radius: 5px;\n   align-self: ",";\n   flex-direction:column;\n"]);return E=function(){return e},e}var j=s.a.div(E(),(function(e){return"own"===e.type?"#dcf8c6":"whiteSmoke"}),(function(e){return"own"===e.type?"flex-end":"flex-start"}));var k=function(e){return r.a.createElement(j,e,r.a.createElement(m,{name:e.author}),r.a.createElement(v,{text:e.text}),r.a.createElement(h,{date:new Date(e.date)}))};function O(){var e=Object(c.a)(["\n   display:flex;\n   font-size:0.8em;\n   padding:0px 2px;\n"]);return O=function(){return e},e}var N=s.a.div(O());var D=function(e){return console.log("rendering user",e.name),r.a.createElement(N,null,e.name)};function z(){var e=Object(c.a)(["\n   display:flex;\n   font-size:0.9em;\n   padding:4px;\n"]);return z=function(){return e},e}var M=s.a.div(z());var B=function(e){var n=e.users.map((function(n){return r.a.createElement(D,{key:n.id,name:e.cuser.id===n.id?"You":n.firstName})}));return r.a.createElement(M,null,n)};function S(){var e=Object(c.a)(["\n   display:flex;\n   font-size:1em;\n   padding:4px;\n"]);return S=function(){return e},e}function C(){var e=Object(c.a)(["\n   display:flex;\n   flex-direction:column;\n   height:50px;\n   background:#eee;\n   padding:4px;\n"]);return C=function(){return e},e}var J=s.a.div(C()),T=s.a.div(S());var W=function(e){return console.log("rendering room",e.room,e.users.length),r.a.createElement(J,null,r.a.createElement(T,null,e.room),r.a.createElement(B,{users:e.users,cuser:e.cuser}))},I=t(91),L=t.n(I),P=t(92),Y=t.n(P),$=t(89),q=t.n($);function A(){var e=Object(c.a)(["\n  display:flex;\n  flex:1;\n  .textfield {\n     justify-content:center;\n\n     flex:1;\n  }\n  .theinput {\n     flex:1;\n     padding:6px;\n  }\n  .textfield label {\n     font-size:0.8em;\n  }\n  .textfield label[data-shrink='false'] {\n   transform: translate(11px, 14px) scale(1);\n  }\n"]);return A=function(){return e},e}function F(){var e=Object(c.a)(["\n   display:flex;\n   padding:8px;\n   background:#eee;\n   .MuiButtonBase-root {\n      padding:0px;\n      align-items:center;\n      justify-content:center;\n   }\n   .MuiButton-label {\n      display:flex;\n      align-items:center;\n      justify-content:center;\n      color:purple;\n   }\n\n   border-bottom:3px solid #888;\n"]);return F=function(){return e},e}var G=s.a.div(F()),H=s.a.div(A());var K=function(e){var n=r.a.useState(null),t=Object(u.a)(n,2),a=t[0],i=t[1];return r.a.createElement(G,null,r.a.createElement(H,null,r.a.createElement(q.a,{id:"outlined-basic",label:"Message",variant:"outlined",inputProps:{className:"theinput"},className:"textfield",onChange:function(e){i(e.target.value)}})),r.a.createElement(L.a,{onClick:function(n){e.onSend(a)}},r.a.createElement(Y.a,null)))};function Q(){var e=Object(c.a)(["\n   background:#ccc;\n   display:flex;\n   flex-direction: column;\n   flex:1;\n   overflow:auto;\n"]);return Q=function(){return e},e}function R(){var e=Object(c.a)(["\n   max-width:320px;\n   min-width:320px;\n   display:flex;\n   flex-direction: column;\n   flex:1;\n   min-height: 0px;\n"]);return R=function(){return e},e}var U=s.a.div(R()),V=s.a.div(Q());var X=function(e){var n=e.data.messages.map((function(e){return r.a.createElement(k,Object.assign({key:e.id},e))}));return console.log("rendering convo",n.length),r.a.createElement(U,null,r.a.createElement(W,{room:e.data.room,users:e.data.users,cuser:e.data.cuser}),r.a.createElement(V,null,n),r.a.createElement(K,{onSend:function(e){window.postMessage({type:"single",message:e},"*"),window.parent&&window.parent!==window&&window.parent.postMessage({type:"single",message:e},"*")}}))};var Z=function(e){var n=r.a.useState(e.data),t=Object(u.a)(n,2),a=t[0],i=t[1];return r.a.useEffect((function(){window.addEventListener("message",(function(e){e.data&&("single"===e.data.type?(console.log("got single message",e.data),i((function(n){var t=(n||{messages:[]}).messages;return t.push({id:"tmp".concat((new Date).getTime()),type:"own",text:e.data.message,author:n.cuser.firstName,date:new Date}),Object(l.a)({},a,{messages:t})}))):e.data.messages&&(console.log("got update message",e.data),i((function(n){return Object(l.a)({},e.data)}))))}),!1)}),[]),a?(console.log("rendering app...",a.messages&&a.messages.length),r.a.createElement(X,{data:a})):null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _={room:"my room",cuser:{id:1,firstName:"ayal"},users:[{id:1,firstName:"ayal"},{id:9,firstName:"max"},{id:2,firstName:"lux"}],messages:[{type:"normal",id:1,text:"lala",author:"kuki",date:new Date},{type:"own",id:2,text:"lasdfgsdfla",author:"kuki",date:new Date},{type:"normal",id:3,text:"lala",author:"kuki",date:new Date}]};o.a.render(r.a.createElement(Z,{data:_}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},94:function(e,n,t){e.exports=t(253)},99:function(e,n,t){}},[[94,1,2]]]);
//# sourceMappingURL=main.39915506.chunk.js.map