(this.webpackJsonpconvo=this.webpackJsonpconvo||[]).push([[0],{100:function(e,n,t){},251:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(17),o=t.n(i),l=(t(98),t(52)),u=t(36),c=(t(99),t(100),t(10)),s=t(11);function d(){var e=Object(c.a)(["\n   display:flex;\n   align-self:flex-start;\n   font-size:0.8em;\n   font-weight:bold;\n   color:purple;\n"]);return d=function(){return e},e}var f=s.a.div(d());var m=function(e){return r.a.createElement(f,null,e.name)};function p(){var e=Object(c.a)(["\n   display:flex;\n   padding:5px;\n"]);return p=function(){return e},e}var g=s.a.div(p());var v=function(e){return r.a.createElement(g,null,e.text)};function x(){var e=Object(c.a)(["\n   display:flex;\n   align-self:flex-end;\n   font-size:0.7em;\n   padding:4px;\n"]);return x=function(){return e},e}var b=s.a.div(x());var y=function(e){return r.a.createElement(b,{className:"MessageTime"},(n=e.date,new Date(n.getTime()).toTimeString().split(" ")[0].split(":").slice(0,2).join(":")));var n};function h(){var e=Object(c.a)(["\n   padding:6px;\n   margin:4px 10px;\n   display:flex;\n   align-items: center;\n   background:",";\n   border-radius: 5px;\n   align-self: ",";\n   flex-direction:column;\n"]);return h=function(){return e},e}var w=s.a.div(h(),(function(e){return"own"===e.type?"#dcf8c6":"whiteSmoke"}),(function(e){return"own"===e.type?"flex-end":"flex-start"}));var E=function(e){return r.a.createElement(w,e,r.a.createElement(m,{name:e.author}),r.a.createElement(v,{text:e.text}),r.a.createElement(y,{date:new Date(e.date)}))};function j(){var e=Object(c.a)(["\n   display:flex;\n   font-size:0.8em;\n   padding:0px 2px;\n"]);return j=function(){return e},e}var k=s.a.div(j());var O=function(e){return console.log("rendering user",e.name),r.a.createElement(k,null,e.name)};function N(){var e=Object(c.a)(["\n   display:flex;\n   font-size:0.9em;\n   padding:4px;\n"]);return N=function(){return e},e}var z=s.a.div(N());var D=function(e){var n=e.users.map((function(n){return r.a.createElement(O,{key:n.id,name:e.cuser.id===n.id?"You":n.firstName})}));return r.a.createElement(z,null,n)};function M(){var e=Object(c.a)(["\n   display:flex;\n   font-size:1em;\n   padding:4px;\n"]);return M=function(){return e},e}function S(){var e=Object(c.a)(["\n   display:flex;\n   flex-direction:column;\n   height:50px;\n   background:#eee;\n   padding:4px;\n"]);return S=function(){return e},e}var B=s.a.div(S()),T=s.a.div(M());var C=function(e){return console.log("rendering room",e.room,e.users.length),r.a.createElement(B,null,r.a.createElement(T,null,e.room),r.a.createElement(D,{users:e.users,cuser:e.cuser}))},J=t(90),W=t.n(J),I=t(91),L=t.n(I),P=t(88),Y=t.n(P);function $(){var e=Object(c.a)(["\n  display:flex;\n  flex:1;\n  .textfield {\n     justify-content:center;\n\n     flex:1;\n  }\n  .theinput {\n     flex:1;\n     padding:6px;\n  }\n  .textfield label {\n     font-size:0.8em;\n  }\n  .textfield label[data-shrink='false'] {\n   transform: translate(11px, 14px) scale(1);\n  }\n"]);return $=function(){return e},e}function q(){var e=Object(c.a)(["\n   display:flex;\n   padding:8px;\n   background:#eee;\n   .MuiButtonBase-root {\n      padding:0px;\n      align-items:center;\n      justify-content:center;\n   }\n   .MuiButton-label {\n      display:flex;\n      align-items:center;\n      justify-content:center;\n      color:purple;\n   }\n\n   border-bottom:3px solid #888;\n"]);return q=function(){return e},e}var A=s.a.div(q()),F=s.a.div($());var G=function(e){var n=r.a.useState(null),t=Object(u.a)(n,2),a=t[0],i=t[1];return r.a.createElement(A,null,r.a.createElement(F,null,r.a.createElement(Y.a,{id:"outlined-basic",label:"Message",variant:"outlined",inputProps:{className:"theinput"},className:"textfield",onChange:function(e){i(e.target.value)}})),r.a.createElement(W.a,{onClick:function(n){e.onSend(a)}},r.a.createElement(L.a,null)))};function H(){var e=Object(c.a)(["\n   background:#ccc;\n   display:flex;\n   flex-direction: column;\n   flex:1;\n   overflow:auto;\n"]);return H=function(){return e},e}function K(){var e=Object(c.a)(["\n   max-width:320px;\n   min-width:320px;\n   display:flex;\n   flex-direction: column;\n   flex:1;\n   min-height: 0px;\n"]);return K=function(){return e},e}var Q=s.a.div(K()),R=s.a.div(H());var U=function(e){var n=e.data.messages.map((function(e){return r.a.createElement(E,Object.assign({key:e.id},e))}));return console.log("rendering convo",n.length),r.a.createElement(Q,null,r.a.createElement(C,{room:e.data.room,users:e.data.users,cuser:e.data.cuser}),r.a.createElement(R,null,n),r.a.createElement(G,{onSend:function(n){window.postMessage({type:"single",message:n,cuser:e.data.cuser},"*"),window.parent.postMessage({type:"single",message:n,cuser:e.data.cuser},"*")}}))};var V=function(e){var n=r.a.useState(e.data),t=Object(u.a)(n,2),a=t[0],i=t[1];return r.a.useEffect((function(){window.addEventListener("message",(function(e){e.data&&("single"===e.data.type?i((function(n){var t=(n||{messages:[]}).messages;return t.push({id:e.data.cuser.id,type:"own",text:e.data.message,author:e.data.cuser.firstName,date:new Date}),Object(l.a)({},a,{messages:t})})):e.data.messages&&i((function(n){return Object(l.a)({},e.data)})))}),!1)}),[]),a?(console.log("rendering app...",a.messages&&a.messages.length),r.a.createElement(U,{data:a})):null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X={room:"my room",cuser:{id:1,firstName:"ayal"},users:[{id:1,firstName:"ayal"},{id:9,firstName:"max"},{id:2,firstName:"lux"}],messages:[{type:"normal",id:1,text:"lala",author:"kuki",date:new Date},{type:"own",id:2,text:"lasdfgsdfla",author:"kuki",date:new Date},{type:"normal",id:3,text:"lala",author:"kuki",date:new Date}]};o.a.render(r.a.createElement(V,{data:X}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},93:function(e,n,t){e.exports=t(251)},98:function(e,n,t){},99:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"}},[[93,1,2]]]);
//# sourceMappingURL=main.f7c391b3.chunk.js.map